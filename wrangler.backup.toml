name = "avgc-backup-worker"
main = "src/workers/backup.ts"
compatibility_date = "2024-12-01"

# Weekly backup schedule - every Sunday at midnight UTC
[triggers]
crons = ["0 0 * * 0"]

# D1 Database binding (same as main app)
[[d1_databases]]
binding = "DB"
database_name = "alnmouth-golf-db"
database_id = "2dabf34e-2dc8-49ec-abb6-a6b1dfc78ac0"

# Secrets (add via: npx wrangler secret put <NAME> --config wrangler.backup.toml)
# Uses the same Azure credentials as the main app:
# - AZURE_TENANT_ID
# - AZURE_CLIENT_ID
# - AZURE_CLIENT_SECRET
#
# Note: Your Azure App needs Sites.ReadWrite.All permission for SharePoint access
